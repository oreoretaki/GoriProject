# Stage 1 - è‡ªå·±æ•™å¸«ã‚ã‚Šãƒžãƒ«ãƒTFå†æ§‹ç¯‰ âœ… å®Ÿè£…å®Œäº†

## ðŸŽ¯ Stage 1 ã®ç›®æ¨™

USD/JPYã®OHLCãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã€6ã¤ã®æ•´åˆ—ã—ãŸæ™‚é–“è¶³ï¼ˆM1, M5, M15, H1, H4, Dï¼‰ã®ãƒžã‚¹ã‚¯ã•ã‚ŒãŸã‚¹ãƒ‘ãƒ³ã‚’åŒæ™‚ã«å†æ§‹ç¯‰ã—ã€ã‚¯ãƒ­ã‚¹ã‚¹ã‚±ãƒ¼ãƒ«ä¸€è²«æ€§ã‚’å¼·åˆ¶ã™ã‚‹å˜ä¸€ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ãƒ»ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼ã‚’è¨“ç·´ã™ã‚‹ã€‚

## âœ… å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

- âœ… **ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**: å³ç«¯æ•´åˆ—ã€3.3æ™‚é–“ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆ22å€é«˜é€ŸåŒ–ï¼š22ç§’/3.1Mè¡Œï¼‰
- âœ… **ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**: [open, high, low, close, Î”close, %body] â†’ 36ãƒãƒ£ãƒ³ãƒãƒ«
- âœ… **ãƒžã‚¹ã‚­ãƒ³ã‚°æˆ¦ç•¥**: ãƒ©ãƒ³ãƒ€ãƒ é€£ç¶šãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ5-60ãƒãƒ¼ï¼‰ã€15%ãƒžã‚¹ã‚¯ã€TFé–“åŒæœŸ
- âœ… **TFåˆ¥z-scoreæ­£è¦åŒ–**: çµ±è¨ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ä»˜ã
- âœ… **å‹•çš„ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: TFå›ºæœ‰CNN + å…±æœ‰ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ + å‹•çš„Bottleneck + TFåˆ¥ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼
- âœ… **4ç¨®æå¤±é–¢æ•°**: Huber + STFT + ã‚¯ãƒ­ã‚¹TFæ•´åˆæ€§ + æŒ¯å¹…ä½ç›¸ç›¸é–¢
- âœ… **å®Œå…¨å‹•ä½œç¢ºèªæ¸ˆã¿**: fast_dev_runå®Œå…¨æˆåŠŸã€GPU/CPUçµ±åˆãƒ†ã‚¹ãƒˆæ¸ˆã¿
- âœ… **é«˜é€ŸåŒ–æœ€é©åŒ–**: 5-7å€é€ŸåŒ–ï¼ˆ2â†’7-9 it/sï¼‰ã€Tensor Coreã€16-mixed precision
- âœ… **ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä¿å­˜ã§20ç§’â†’æ•°ç™¾ms
- âœ… **I/Oä¸¦åˆ—åŒ–**: 8 workersã€prefetchã€persistent workers
- âœ… **è¨“ç·´ãƒ»è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: PyTorch Lightningã€One-Cycle LRã€æ—©æœŸåœæ­¢ã€MPIå®Œå…¨å›žé¿
- âœ… **åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ**: ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
- âœ… **WSLå®Œå…¨å¯¾å¿œ**: MPIæ¤œå‡ºç„¡åŠ¹åŒ–ã€ç’°å¢ƒå¤‰æ•°è‡ªå‹•è¨­å®šã€Tensor Coreæœ€é©åŒ–
- âœ… **T5è»¢ç§»å­¦ç¿’**: äº‹å‰å­¦ç¿’è¨€èªžãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹åˆæœŸåŒ–ã€æ®µéšŽçš„è§£å‡ã€å·®åˆ†å­¦ç¿’çŽ‡

## ðŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
stage1/
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ base.yaml           # åŸºæœ¬è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ medium.yaml         # ä¸­è¦æ¨¡è¨­å®š
â”‚   â”œâ”€â”€ production.yaml     # æœ¬ç•ªç’°å¢ƒè¨­å®š
â”‚   â”œâ”€â”€ test.yaml           # é«˜é€ŸåŒ–æœ€é©è¨­å®šï¼ˆæŽ¨å¥¨ï¼‰
â”‚   â”œâ”€â”€ t5_baseline.yaml    # T5æ¯”è¼ƒç”¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³
â”‚   â”œâ”€â”€ t5_freeze.yaml      # T5æ®µéšŽçš„è§£å‡ï¼ˆæŽ¨å¥¨ï¼‰
â”‚   â””â”€â”€ t5_nofreeze.yaml    # T5å‡çµãªã—
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ train_stage1.py     # è¨“ç·´ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆT5å¯¾å¿œï¼‰
â”‚   â”œâ”€â”€ evaluate_stage1.py  # è©•ä¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ download_t5.py      # T5ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼ï¼ˆæ±Žç”¨CLIï¼‰
â”‚   â””â”€â”€ run_t5_experiments.sh # T5æ¯”è¼ƒå®Ÿé¨“è‡ªå‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py         # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆæœŸåŒ–
â”‚   â”œâ”€â”€ data_loader.py      # æœ€é©åŒ–ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ window_sampler.py   # ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ feature_engineering.py # ç‰¹å¾´é‡è¨ˆç®—
â”‚   â”œâ”€â”€ masking.py          # ãƒžã‚¹ã‚­ãƒ³ã‚°æˆ¦ç•¥
â”‚   â”œâ”€â”€ normalization.py    # æ­£è¦åŒ–
â”‚   â”œâ”€â”€ model.py            # å‹•çš„ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆT5å¯¾å¿œï¼‰
â”‚   â”œâ”€â”€ lm_adapter.py       # T5è»¢ç§»å­¦ç¿’ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
â”‚   â””â”€â”€ losses.py           # 4ç¨®æå¤±é–¢æ•°
â”œâ”€â”€ old/                    # é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ä¿ç®¡
â”‚   â”œâ”€â”€ import_test.py      # ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_components.py  # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ syntax_check.py     # æ–‡æ³•ãƒã‚§ãƒƒã‚¯
â”‚   â””â”€â”€ [ãã®ä»–é–‹ç™ºç”¨ãƒ•ã‚¡ã‚¤ãƒ«]
â”œâ”€â”€ checkpoints/            # ãƒ¢ãƒ‡ãƒ«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ logs/                   # TensorBoard ãƒ­ã‚°
â”œâ”€â”€ requirements.txt        # Pythonä¾å­˜é–¢ä¿‚
â””â”€â”€ README.md              # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
```bash
# Stage 0å®Œäº†ç¢ºèª
cd ../stage0 && python3 scripts/run_validate.py

# ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
cd ../tests && python3 test_stage1_data.py
```

### 2. è¨“ç·´å®Ÿè¡Œ

#### ðŸš€ ã‚¹ãƒ†ãƒƒãƒ—1: å‹•ä½œç¢ºèªï¼ˆå®Œäº†ï¼‰
```bash
cd stage1

# fast_dev_runå®Œäº†ç¢ºèªï¼ˆ1ãƒãƒƒãƒãƒ†ã‚¹ãƒˆï¼‰
python3 scripts/train_stage1.py \
  --config configs/test.yaml \
  --data_dir ../data/derived \
  --fast_dev_run \
  --devices 1

# çµæžœ: train_total_step=3.200, val_correlationæ­£å¸¸å‹•ä½œç¢ºèªæ¸ˆã¿ âœ…
```

#### ðŸŽ¯ ã‚¹ãƒ†ãƒƒãƒ—2: é«˜é€ŸåŒ–æœ€é©ç‰ˆå­¦ç¿’
```bash
# æœ€é©åŒ–è¨­å®šã§ã®çŸ­æœŸé–“å­¦ç¿’ï¼ˆæŽ¨å¥¨ï¼‰
python3 scripts/train_stage1.py \
  --config configs/test.yaml \
  --data_dir ../data/derived \
  --max_epochs 3 \
  --devices 1

# æœŸå¾…æ€§èƒ½: 7-9 it/sï¼ˆå¾“æ¥ã®5-7å€é«˜é€ŸåŒ–ï¼‰
# çµæžœç›£è¦–: æå¤±åŽæŸã€ç›¸é–¢ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€GPUä½¿ç”¨çŽ‡
```

#### ðŸ† ã‚¹ãƒ†ãƒƒãƒ—3: æœ¬æ ¼è¨“ç·´
```bash
# ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨­å®šã§ã®æœ¬æ ¼å­¦ç¿’
python3 scripts/train_stage1.py \
  --config configs/base.yaml \
  --data_dir ../data/derived \
  --devices 1

# ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ä¾‹
python3 scripts/train_stage1.py \
  --config configs/base.yaml \
  --data_dir ../data/derived \
  --batch_size 16 \
  --max_epochs 20 \
  --devices 1
```

#### ðŸ¤— ã‚¹ãƒ†ãƒƒãƒ—4: T5è»¢ç§»å­¦ç¿’ï¼ˆâœ… äº‹å‰å­¦ç¿’æ¸ˆã¿é‡ã¿å¯¾å¿œå®Œäº†ï¼‰
```bash
# âš ï¸ é‡è¦: äº‹å‰ã«T5ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ60M parametersæ¤œè¨¼ä»˜ãï¼‰
python3 scripts/download_t5.py --model t5-small

# èªè¨¼/ãƒ—ãƒ­ã‚­ã‚·ç’°å¢ƒã®å ´åˆ
HTTPS_PROXY=http://proxy:8080 python3 scripts/download_t5.py --model t5-small
# ã¾ãŸã¯: huggingface-cli login

# 1. å‹•ä½œç¢ºèªï¼ˆäº‹å‰å­¦ç¿’æ¸ˆã¿T5é‡ã¿ä½¿ç”¨ï¼‰
python3 scripts/train_stage1.py \
  --config configs/t5_freeze.yaml \
  --data_dir ../data/derived \
  --fast_dev_run

# 2. T5æ¯”è¼ƒå®Ÿé¨“ï¼ˆè‡ªå‹•ï¼‰- çœŸã®è»¢ç§»å­¦ç¿’åŠ¹æžœã‚’æ¸¬å®š
bash scripts/run_t5_experiments.sh

# 3. å€‹åˆ¥å®Ÿé¨“ï¼ˆæ”¹è‰¯ç‰ˆè¨­å®š: seq_len=128, patch_len=32ï¼‰
python3 scripts/train_stage1.py --config configs/t5_baseline.yaml --data_dir ../data/derived --max_epochs 5   # ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³
python3 scripts/train_stage1.py --config configs/t5_freeze.yaml --data_dir ../data/derived --max_epochs 5     # æ®µéšŽçš„è§£å‡
python3 scripts/train_stage1.py --config configs/t5_nofreeze.yaml --data_dir ../data/derived --max_epochs 5   # å‡çµãªã—
```

**ðŸ” T5è»¢ç§»å­¦ç¿’æ¤œè¨¼ãƒã‚¤ãƒ³ãƒˆï¼ˆä¿®æ­£æ¸ˆã¿ï¼‰**:
- **âœ… äº‹å‰å­¦ç¿’æ¸ˆã¿é‡ã¿**: æ­£å¼ãƒ¢ãƒ‡ãƒ«ID `t5-small` ä½¿ç”¨ã€ãƒ©ãƒ³ãƒ€ãƒ åˆæœŸåŒ–ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç¦æ­¢
- **âœ… ãƒ‘ãƒƒãƒåŸ‹ã‚è¾¼ã¿æ”¹å–„**: 32-token patches (128/32=4), LayerNorm+âˆšd_model ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- **âœ… æ®µéšŽçš„è§£å‡**: 2ã‚¨ãƒãƒƒã‚¯å‡çµâ†’è§£å‡ã€å·®åˆ†å­¦ç¿’çŽ‡ base:t5=10:1
- **âœ… ç’°å¢ƒå¯¾å¿œ**: ãƒ—ãƒ­ã‚­ã‚·ãƒ»èªè¨¼ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã‚µãƒãƒ¼ãƒˆ

### 3. å­¦ç¿’ç›£è¦–ãƒ»èª¿æ•´

#### ðŸ“Š é‡è¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **å­¦ç¿’é€Ÿåº¦**: it/s (ç›®æ¨™: 7-9 it/s)
- **æå¤±åŽæŸ**: `train_total`, `val_total` (ç›®æ¨™: å®‰å®šçš„æ¸›å°‘)
- **ç›¸é–¢**: `val_correlation_mean` (ç›®æ¨™: >0.8)
- **TFåˆ¥æ€§èƒ½**: `val_corr_m1`, `val_corr_m5`, etc.
- **å­¦ç¿’å®‰å®šæ€§**: æå¤±æŒ¯å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ðŸš€ é«˜é€ŸåŒ–è¨­å®šï¼ˆconfigs/test.yamlï¼‰
```yaml
# æœ€é©åŒ–æ¸ˆã¿è¨­å®š
data:
  seq_len: 48           # 4ã®å€æ•°æœ€é©åŒ–

training:
  batch_size: 64        # å¤§å¹…å¢—åŠ 
  precision: "16-mixed" # Tensor Coreæ´»ç”¨
  accumulate_grad_batches: 2  # è¦‹ã‹ã‘batch_size=128

dataloader:
  num_workers: 8        # I/Oä¸¦åˆ—åŒ–
  prefetch_factor: 4    # ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒ
  persistent_workers: true

scheduler:
  pct_start: 0.05       # çŸ­ç¸®warm-up
  interval: "step"      # stepå˜ä½èª¿æ•´
```

#### ðŸ”§ èª¿æ•´ãƒã‚¤ãƒ³ãƒˆ
- **å­¦ç¿’çŽ‡**: `max_lr` 1e-4ï½ž1e-3
- **ãƒãƒƒãƒã‚µã‚¤ã‚º**: GPUæ€§èƒ½ã«å¿œã˜ã¦32ï½ž128
- **æå¤±é‡ã¿**: åŽæŸãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¿œã˜ã¦èª¿æ•´
- **ãƒžã‚¹ã‚¯çŽ‡**: 0.10ï½ž0.20ã§é›£æ˜“åº¦èª¿æ•´

### 4. ãƒ¢ãƒ‡ãƒ«è©•ä¾¡
```bash
python3 scripts/evaluate_stage1.py \
  --config configs/base.yaml \
  --ckpt checkpoints/stage1-epoch-XX.ckpt \
  --data_dir ../data/derived \
  --output evaluation_results.json
```

## ðŸ”„ ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

### âœ… å®Œäº†æ¸ˆã¿
- **åŸºç›¤å®Ÿè£…**: 100%å®Œäº†
- **å‹•ä½œç¢ºèª**: fast_dev_runå®Œå…¨æˆåŠŸ
- **ãƒ™ã‚¯ãƒˆãƒ«åŒ–**: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°22å€é«˜é€ŸåŒ–é”æˆ
- **I/Oæœ€é©åŒ–**: 5-7å€é€ŸåŒ–ï¼ˆ2â†’7-9 it/sï¼‰å®Ÿè£…å®Œäº†
- **Tensor Core**: 16-mixed precisionæœ€é©åŒ–
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½**: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦20ç§’â†’æ•°ç™¾ms
- **WSLå¯¾å¿œ**: MPIå•é¡Œå®Œå…¨è§£æ±º
- **T5è»¢ç§»å­¦ç¿’**: äº‹å‰å­¦ç¿’æ¸ˆã¿é‡ã¿å¯¾å¿œå®Œäº†ï¼ˆt5-small, 60M parametersæ¤œè¨¼æ©Ÿèƒ½ä»˜ãï¼‰

### ðŸš§ é€²è¡Œä¸­
- **T5è»¢ç§»å­¦ç¿’å®Ÿé¨“**: äº‹å‰å­¦ç¿’æ¸ˆã¿é‡ã¿ã§ã®çœŸã®è»¢ç§»å­¦ç¿’åŠ¹æžœæ¸¬å®š
- **è«–æ–‡æ¤œè¨¼**: "Random Initialization Can't Catch Up" ã®æ™‚ç³»åˆ—ã§ã®å†ç¾å®Ÿé¨“
- **æ€§èƒ½æ¯”è¼ƒ**: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ vs T5æ®µéšŽçš„è§£å‡ vs T5å‡çµãªã—
- **åŽæŸæ€§åˆ†æž**: T5äº‹å‰å­¦ç¿’ã«ã‚ˆã‚‹åˆæœŸæ€§èƒ½ãƒ»å­¦ç¿’å®‰å®šæ€§ã®å‘ä¸Šç¢ºèª

### ðŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹æ¬¡ã®ãƒžã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
1. **âœ… T5äº‹å‰å­¦ç¿’æ¸ˆã¿é‡ã¿**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒ­ãƒ¼ãƒ‰æˆåŠŸæ¸ˆã¿ï¼ˆ60M parametersæ¤œè¨¼æ¸ˆã¿ï¼‰
2. **ðŸ”„ çœŸã®è»¢ç§»å­¦ç¿’å®Ÿé¨“**: äº‹å‰å­¦ç¿’æ¸ˆã¿T5 vs ãƒ©ãƒ³ãƒ€ãƒ åˆæœŸåŒ–ã®æ¯”è¼ƒå®Ÿè¡Œä¸­
3. **ðŸ“Š åŽæŸæ€§èƒ½åˆ†æž**: åˆæœŸã‚¨ãƒãƒƒã‚¯ã§ã®T5å„ªä½æ€§ãƒ»å­¦ç¿’å®‰å®šæ€§ã®ç¢ºèª
4. **ðŸ” æ™‚ç³»åˆ—é©å¿œæ€§**: ãƒ†ã‚­ã‚¹ãƒˆäº‹å‰å­¦ç¿’ã®æ™‚ç³»åˆ—ã¸ã®è»¢ç§»å¯èƒ½æ€§æ¤œè¨¼
5. **âš¡ åŠ¹çŽ‡æ€§è©•ä¾¡**: æ®µéšŽçš„è§£å‡ã«ã‚ˆã‚‹å­¦ç¿’åŠ¹çŽ‡å‘ä¸Šã®æ¸¬å®š
6. **ðŸŽ¯ æœ€çµ‚æ€§èƒ½**: val_correlation_meanæ”¹å–„ã¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ€§èƒ½è¶…è¶Š

## ðŸ“Š å…¥åŠ›ãƒ‡ãƒ¼ã‚¿

Stage 0å®Œäº†æ¸ˆã¿é«˜å“è³ªãƒ‡ãƒ¼ã‚¿ï¼š
- **ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹**: `../data/derived/simple_gap_aware_*.parquet`
- **æ•´åˆæ€§**: 100%ä¿è¨¼æ¸ˆã¿
- **Volume**: å®Œå…¨é™¤å¤–æ¸ˆã¿
- **æ™‚é–“è¶³**: M1, M5, M15, M30, H1, H4, D
- **æœŸé–“**: 2017-01-03 ï½ž 2025-06-17ï¼ˆç´„8.5å¹´ï¼‰

## ðŸŽ¯ æœŸå¾…ã•ã‚Œã‚‹çµæžœ

- **Correlation@TF**: ãƒ”ã‚¢ã‚½ãƒ³ç›¸é–¢ >0.8
- **æ•´åˆæ€§æ¯”çŽ‡**: TFãƒãƒ¼ä¸€è‡´çŽ‡ >95%
- **ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ Î”**: å¯¾æ•°ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ èª¤å·® <0.1
- **åŽæŸæ™‚é–“**: 40ã‚¨ãƒãƒƒã‚¯ä»¥å†…

## ðŸ”§ é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ãƒ„ãƒ¼ãƒ«

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å“è³ªä¿è¨¼ã¨ãƒ‡ãƒãƒƒã‚°ã®ãŸã‚ã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒ`old/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿ç®¡ã•ã‚Œã¦ã„ã¾ã™ï¼š

### ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«
- **import_test.py**: åŸºæœ¬çš„ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆã¨ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ãƒã‚§ãƒƒã‚¯
- **test_components.py**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œç¢ºèªï¼ˆé«˜é€ŸåŒ–æœ€é©åŒ–ç‰ˆï¼‰
- **syntax_check.py**: Pythonæ–‡æ³•ãƒã‚§ãƒƒã‚¯

### ä½¿ç”¨æ–¹æ³•
```bash
# åŸºæœ¬çš„ãªä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯
python3 old/import_test.py

# å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
python3 old/test_components.py

# æ–‡æ³•ãƒã‚§ãƒƒã‚¯
python3 old/syntax_check.py
```

ã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã¯é–‹ç™ºæ™‚ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

## ðŸ”„ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

Stage 1å®Œäº†å¾Œã€å­¦ç¿’ã•ã‚ŒãŸé‡ã¿ã¯Stage 2ã®RLå–å¼•ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚·ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚