# Stage 0 Parquetファイル スキーマレポート\n\n生成日時: 2025-07-05T14:58:00.794903\n\n## 各ファイルのスキーマ情報\n\n### simple_gap_aware_m1.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_m1.parquet`\n**ファイルサイズ**: 47,009,413 bytes (44.8 MB)\n**レコード数**: 3,104,383\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp (index) | datetime64[ns, UTC] | datetime64[ns, UTC] | タイムゾーン: UTC |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n| gap_flag | bool | bool | ギャップフラグ（M1のみ意味あり） |\n\n**データ統計**:\n\n- **期間**: 2017-01-03 08:00:00+00:00 ～ 2025-06-17 23:24:00+00:00\n- **時間間隔**: None (推定)\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 123.05036\n- **ギャップ**: 0件 (0.0%)\n\n---\n\n### simple_gap_aware_m5.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_m5.parquet`\n**ファイルサイズ**: 10,663,083 bytes (10.2 MB)\n**レコード数**: 630,474\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.95943\n\n---\n\n### simple_gap_aware_m15.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_m15.parquet`\n**ファイルサイズ**: 4,262,091 bytes (4.1 MB)\n**レコード数**: 210,477\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.94292\n\n---\n\n### simple_gap_aware_m30.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_m30.parquet`\n**ファイルサイズ**: 2,426,956 bytes (2.3 MB)\n**レコード数**: 105,252\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.94108\n\n---\n\n### simple_gap_aware_h1.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_h1.parquet`\n**ファイルサイズ**: 1,315,596 bytes (1.3 MB)\n**レコード数**: 52,632\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.93966\n\n---\n\n### simple_gap_aware_h4.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_h4.parquet`\n**ファイルサイズ**: 405,588 bytes (0.4 MB)\n**レコード数**: 13,601\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.94086\n\n---\n\n### simple_gap_aware_d.parquet\n\n**ファイルパス**: `data/derived/simple_gap_aware_d.parquet`\n**ファイルサイズ**: 90,447 bytes (0.1 MB)\n**レコード数**: 2,640\n\n**カラムスキーマ**:\n\n| カラム名 | データ型 | Pandas dtype | 備考 |\n|----------|----------|--------------|------|\n| timestamp | timestamp[ns] | datetime64[ns] |  |\n| open | double | float64 | OHLC価格データ |\n| high | double | float64 | OHLC価格データ |\n| low | double | float64 | OHLC価格データ |\n| close | double | float64 | OHLC価格データ |\n\n**データ統計**:\n\n- **価格範囲**: 101.18000 ～ 161.95000\n- **平均価格**: 122.93316\n\n---\n\n## 共通仕様\n\n### タイムスタンプ仕様\n- **基準時刻**: UTC（協定世界時）\n- **データ型**: datetime64[ns, UTC]\n- **インデックス**: 昇順ソート済み\n- **重複**: なし（is_unique=True）\n\n### OHLC仕様\n- **Open**: 期間開始価格\n- **High**: 期間最高価格\n- **Low**: 期間最安価格\n- **Close**: 期間終了価格\n- **論理制約**: Low ≤ Open,Close ≤ High\n- **通貨ペア**: USD/JPY\n\n### Gap-aware処理\n- **M1**: gap_flagでギャップを識別\n- **上位TF**: ギャップ期間を除外してリサンプリング\n- **整合性**: M1→全TF 100%保証\n\n### ファイル形式\n- **フォーマット**: Apache Parquet\n- **圧縮**: Snappy\n- **インデックス**: Parquet内で保持\n- **Volume**: 完全除外（存在しない）\n